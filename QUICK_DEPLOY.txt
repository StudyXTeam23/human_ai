===============================================================
        Linux æœåŠ¡å™¨å¿«é€Ÿéƒ¨ç½²æŒ‡å—
===============================================================

ğŸ“‹ å‡†å¤‡å·¥ä½œ:

1. æœåŠ¡å™¨è¦æ±‚:
   - Ubuntu 20.04+ / CentOS 8+ / Debian 11+
   - 2æ ¸+ CPU, 4GB+ å†…å­˜
   - å…¬ç½‘ IP,å¼€æ”¾ 80/443 ç«¯å£

2. æœ¬åœ°å‡†å¤‡:
   - SSH è®¿é—®æƒé™
   - åŸŸå (yourdomain.com)
   - OpenAI API Key

===============================================================

ğŸš€ å¿«é€Ÿéƒ¨ç½²æ­¥éª¤:

æ­¥éª¤ 1: è¿æ¥æœåŠ¡å™¨
-----------------------
ssh root@your-server-ip

æ­¥éª¤ 2: ä¸Šä¼ é¡¹ç›®
-----------------------
# æ–¹å¼ A: ä½¿ç”¨ SCP (ä»æœ¬åœ°æ‰§è¡Œ)
cd /Users/yuyuan/studyx_human
tar -czf studyx_human.tar.gz \
  --exclude='node_modules' \
  --exclude='venv' \
  --exclude='.next' \
  .
scp studyx_human.tar.gz root@your-server-ip:/tmp/

# åœ¨æœåŠ¡å™¨ä¸Šè§£å‹
ssh root@your-server-ip
mkdir -p /var/www
cd /var/www
tar -xzf /tmp/studyx_human.tar.gz
mv studyx_human.tar.gz studyx_human

# æ–¹å¼ B: ä½¿ç”¨ Git
cd /var/www
git clone https://github.com/yourusername/studyx_human.git

æ­¥éª¤ 3: è¿è¡Œè‡ªåŠ¨éƒ¨ç½²è„šæœ¬
-----------------------
cd /var/www/studyx_human

# 3.1 é…ç½®æœåŠ¡å™¨ç¯å¢ƒ (é¦–æ¬¡éƒ¨ç½²)
sudo bash deploy-scripts/setup-server.sh

# 3.2 éƒ¨ç½²åç«¯
bash deploy-scripts/deploy-backend.sh
# æ ¹æ®æç¤ºé…ç½® .env æ–‡ä»¶ (æ·»åŠ  OPENAI_API_KEY)

# 3.3 éƒ¨ç½²å‰ç«¯
bash deploy-scripts/deploy-frontend.sh
# æ ¹æ®æç¤ºè¾“å…¥ API URL

# 3.4 é…ç½® Nginx
sudo bash deploy-scripts/setup-nginx.sh
# æ ¹æ®æç¤ºè¾“å…¥åŸŸå

æ­¥éª¤ 4: é…ç½® DNS
-----------------------
åœ¨åŸŸåæœåŠ¡å•†æ·»åŠ  A è®°å½•:
  yourdomain.com     â†’ æœåŠ¡å™¨IP
  www.yourdomain.com â†’ æœåŠ¡å™¨IP
  api.yourdomain.com â†’ æœåŠ¡å™¨IP

æ­¥éª¤ 5: é…ç½® SSL (æ¨è)
-----------------------
sudo certbot --nginx -d yourdomain.com -d www.yourdomain.com
sudo certbot --nginx -d api.yourdomain.com

æ­¥éª¤ 6: æµ‹è¯•
-----------------------
# æµ‹è¯• API
curl https://api.yourdomain.com/health

# æµ‹è¯•å‰ç«¯
curl -I https://yourdomain.com

# æµè§ˆå™¨è®¿é—®
https://yourdomain.com

===============================================================

ğŸ”§ å¸¸ç”¨ç®¡ç†å‘½ä»¤:

åç«¯æœåŠ¡:
  sudo systemctl status ai-humanizer-api     # æŸ¥çœ‹çŠ¶æ€
  sudo systemctl restart ai-humanizer-api    # é‡å¯
  sudo journalctl -u ai-humanizer-api -f     # æŸ¥çœ‹æ—¥å¿—

å‰ç«¯æœåŠ¡:
  pm2 status                                 # æŸ¥çœ‹çŠ¶æ€
  pm2 restart ai-humanizer-web               # é‡å¯
  pm2 logs ai-humanizer-web                  # æŸ¥çœ‹æ—¥å¿—

Nginx:
  sudo systemctl restart nginx               # é‡å¯
  sudo nginx -t                              # æµ‹è¯•é…ç½®
  sudo tail -f /var/log/nginx/error.log     # æŸ¥çœ‹æ—¥å¿—

===============================================================

ğŸ“‚ é‡è¦æ–‡ä»¶è·¯å¾„:

é¡¹ç›®ç›®å½•:
  /var/www/studyx_human/

åç«¯:
  é…ç½®æ–‡ä»¶: /var/www/studyx_human/web/backend/.env
  æ—¥å¿—æ–‡ä»¶: /var/log/ai-humanizer/
  æœåŠ¡æ–‡ä»¶: /etc/systemd/system/ai-humanizer-api.service

å‰ç«¯:
  é…ç½®æ–‡ä»¶: /var/www/studyx_human/web/frontend/.env.production
  
Nginx:
  é…ç½®æ–‡ä»¶: /etc/nginx/sites-available/ai-humanizer
  æ—¥å¿—æ–‡ä»¶: /var/log/nginx/

===============================================================

ğŸ› å¸¸è§é—®é¢˜:

1. åç«¯æ— æ³•å¯åŠ¨?
   sudo journalctl -u ai-humanizer-api -n 50

2. å‰ç«¯æ— æ³•è®¿é—®?
   pm2 logs ai-humanizer-web --lines 50

3. Nginx æŠ¥é”™?
   sudo nginx -t
   sudo tail -f /var/log/nginx/error.log

4. æ— æ³•è¿æ¥ OpenAI API?
   # æ£€æŸ¥ .env é…ç½®
   cat /var/www/studyx_human/web/backend/.env | grep OPENAI
   
   # æµ‹è¯•ç½‘ç»œ
   curl -I https://api.openai.com

5. æƒé™é—®é¢˜?
   sudo chown -R www-data:www-data /var/www/studyx_human/web/backend
   sudo chmod -R 755 /var/www/studyx_human/web/backend

===============================================================

ğŸ“š è¯¦ç»†æ–‡æ¡£:

å®Œæ•´éƒ¨ç½²æŒ‡å—: DEPLOY_TO_LINUX.md

===============================================================

âœ… éƒ¨ç½²æˆåŠŸæ ‡å¿—:

- [ ] åç«¯ API æ­£å¸¸å“åº”: https://api.yourdomain.com/health
- [ ] å‰ç«¯é¡µé¢å¯è®¿é—®: https://yourdomain.com
- [ ] å¯ä»¥è¾“å…¥æ–‡æœ¬å¹¶ç‚¹å‡» Humanize
- [ ] å¤„ç†æˆåŠŸå¹¶è·³è½¬åˆ°ç»“æœé¡µ
- [ ] HTTPS è¯ä¹¦æœ‰æ•ˆ

===============================================================

