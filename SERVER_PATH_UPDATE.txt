===============================================================
        ï¿½ï¿½ æœåŠ¡å™¨é¡¹ç›®è·¯å¾„å·²æ›´æ–°
===============================================================

âœ… æ–°çš„é¡¹ç›®è·¯å¾„:

æ—§è·¯å¾„: /var/www/studyx_human
æ–°è·¯å¾„: /root/home/yuyuan/studyx_human

===============================================================

ğŸ“ å·²æ›´æ–°çš„æ–‡ä»¶:

éƒ¨ç½²è„šæœ¬:
  âœ… deploy-scripts/setup-server.sh
     - PROJECT_DIR="/root/home/yuyuan/studyx_human"
     - åˆ›å»ºç›®å½•: /root/home/yuyuan
  
  âœ… deploy-scripts/deploy-backend.sh
     - PROJECT_DIR="/root/home/yuyuan/studyx_human/web/backend"
  
  âœ… deploy-scripts/deploy-frontend.sh
     - PROJECT_DIR="/root/home/yuyuan/studyx_human/web/frontend"

æ–‡æ¡£:
  âœ… DEPLOY_TO_LINUX.md
     - æ‰€æœ‰è·¯å¾„å¼•ç”¨å·²æ›´æ–°
  
  âœ… QUICK_DEPLOY.txt
     - æ‰€æœ‰è·¯å¾„å¼•ç”¨å·²æ›´æ–°
  
  âœ… DEPLOYMENT_SUMMARY.txt
     - æ‰€æœ‰è·¯å¾„å¼•ç”¨å·²æ›´æ–°

===============================================================

ğŸš€ éƒ¨ç½²æ­¥éª¤ (ä½¿ç”¨æ–°è·¯å¾„):

æ­¥éª¤ 1: ä¸Šä¼ é¡¹ç›®åˆ°æœåŠ¡å™¨
-----------------------
# ä»æœ¬åœ°æ‰“åŒ…
cd /Users/yuyuan/studyx_human
tar -czf studyx.tar.gz --exclude='node_modules' --exclude='venv' --exclude='.next' .

# ä¸Šä¼ åˆ°æœåŠ¡å™¨
scp studyx.tar.gz root@your-server-ip:/root/home/yuyuan/

# SSH åˆ°æœåŠ¡å™¨
ssh root@your-server-ip

# åˆ›å»ºç›®å½•å¹¶è§£å‹
mkdir -p /root/home/yuyuan
cd /root/home/yuyuan
tar -xzf studyx.tar.gz -C studyx_human
# æˆ–è€…å¦‚æœç›®å½•ä¸å­˜åœ¨
mkdir studyx_human
tar -xzf studyx.tar.gz -C studyx_human

æ­¥éª¤ 2: è¿è¡Œéƒ¨ç½²è„šæœ¬
-----------------------
cd /root/home/yuyuan/studyx_human

# é…ç½®æœåŠ¡å™¨ç¯å¢ƒ (é¦–æ¬¡)
bash deploy-scripts/setup-server.sh

# éƒ¨ç½²åç«¯
bash deploy-scripts/deploy-backend.sh

# éƒ¨ç½²å‰ç«¯
bash deploy-scripts/deploy-frontend.sh

# é…ç½® Nginx
bash deploy-scripts/setup-nginx.sh

æ­¥éª¤ 3: é…ç½® SSL
-----------------------
sudo certbot --nginx -d yourdomain.com -d www.yourdomain.com
sudo certbot --nginx -d api.yourdomain.com

===============================================================

ğŸ“‚ é‡è¦è·¯å¾„:

é¡¹ç›®æ ¹ç›®å½•:
  /root/home/yuyuan/studyx_human/

åç«¯:
  ä»£ç : /root/home/yuyuan/studyx_human/web/backend
  é…ç½®: /root/home/yuyuan/studyx_human/web/backend/.env
  è™šæ‹Ÿç¯å¢ƒ: /root/home/yuyuan/studyx_human/web/backend/venv
  ä¸Šä¼ ç›®å½•: /root/home/yuyuan/studyx_human/web/backend/uploads

å‰ç«¯:
  ä»£ç : /root/home/yuyuan/studyx_human/web/frontend
  é…ç½®: /root/home/yuyuan/studyx_human/web/frontend/.env.production
  æ„å»ºè¾“å‡º: /root/home/yuyuan/studyx_human/web/frontend/.next

æ—¥å¿—:
  åç«¯æ—¥å¿—: /var/log/ai-humanizer/
  Nginxæ—¥å¿—: /var/log/nginx/

æœåŠ¡é…ç½®:
  Systemd: /etc/systemd/system/ai-humanizer-api.service
  Nginx: /etc/nginx/sites-available/ai-humanizer

===============================================================

ğŸ”§ Systemd æœåŠ¡é…ç½®:

æœåŠ¡æ–‡ä»¶ä¼šè‡ªåŠ¨ç”Ÿæˆåœ¨:
  /etc/systemd/system/ai-humanizer-api.service

å…³é”®é…ç½®å†…å®¹:
  WorkingDirectory=/root/home/yuyuan/studyx_human/web/backend
  Environment="PATH=/root/home/yuyuan/studyx_human/web/backend/venv/bin"
  EnvironmentFile=/root/home/yuyuan/studyx_human/web/backend/.env
  ExecStart=/root/home/yuyuan/studyx_human/web/backend/venv/bin/gunicorn \
      app.main:app \
      --workers 4 \
      --worker-class uvicorn.workers.UvicornWorker \
      --bind 0.0.0.0:18201

===============================================================

ğŸ› ï¸ å¸¸ç”¨ç®¡ç†å‘½ä»¤:

åç«¯æœåŠ¡:
  sudo systemctl status ai-humanizer-api
  sudo systemctl restart ai-humanizer-api
  sudo journalctl -u ai-humanizer-api -f

å‰ç«¯æœåŠ¡:
  pm2 status
  pm2 restart ai-humanizer-web
  pm2 logs ai-humanizer-web

æŸ¥çœ‹é…ç½®:
  # åç«¯é…ç½®
  cat /root/home/yuyuan/studyx_human/web/backend/.env
  
  # å‰ç«¯é…ç½®
  cat /root/home/yuyuan/studyx_human/web/frontend/.env.production
  
  # æœåŠ¡é…ç½®
  cat /etc/systemd/system/ai-humanizer-api.service

æŸ¥çœ‹æ—¥å¿—:
  # åç«¯æ—¥å¿—
  tail -f /var/log/ai-humanizer/error.log
  
  # Nginx æ—¥å¿—
  tail -f /var/log/nginx/error.log

===============================================================

âš ï¸  æƒé™è®¾ç½®:

ç”±äºé¡¹ç›®åœ¨ /root/home ä¸‹,éœ€è¦æ³¨æ„æƒé™é…ç½®:

1. Systemd æœåŠ¡é…ç½®ä¸­:
   User=root  (è€Œä¸æ˜¯ www-data)
   Group=root (è€Œä¸æ˜¯ www-data)

2. æˆ–è€…,å¦‚æœæƒ³ä½¿ç”¨ www-data ç”¨æˆ·,éœ€è¦:
   sudo chown -R www-data:www-data /root/home/yuyuan/studyx_human
   sudo chmod -R 755 /root/home/yuyuan/studyx_human

å»ºè®®: ä½¿ç”¨ root ç”¨æˆ·è¿è¡ŒæœåŠ¡,å› ä¸ºé¡¹ç›®åœ¨ /root ç›®å½•ä¸‹

===============================================================

ğŸ§ª æµ‹è¯•éƒ¨ç½²:

1. æµ‹è¯•åç«¯ API
   curl http://localhost:18201/health
   # é¢„æœŸ: {"status":"healthy","version":"1.0.0"}

2. æµ‹è¯•å‰ç«¯
   curl http://localhost:18200
   # é¢„æœŸ: è¿”å› HTML

3. æµ‹è¯•é€šè¿‡åŸŸåè®¿é—®
   curl https://api.yourdomain.com/health
   curl https://yourdomain.com

===============================================================

ğŸ“‹ éƒ¨ç½²æ£€æŸ¥æ¸…å•:

[ ] é¡¹ç›®å·²ä¸Šä¼ åˆ° /root/home/yuyuan/studyx_human
[ ] åç«¯ .env å·²é…ç½® (OPENAI_API_KEY)
[ ] å‰ç«¯ .env.production å·²é…ç½®
[ ] åç«¯è™šæ‹Ÿç¯å¢ƒå·²åˆ›å»º
[ ] åç«¯ä¾èµ–å·²å®‰è£…
[ ] å‰ç«¯ä¾èµ–å·²å®‰è£…
[ ] å‰ç«¯å·²æ„å»º
[ ] Systemd æœåŠ¡å·²é…ç½®å’Œå¯åŠ¨
[ ] PM2 å·²å¯åŠ¨å‰ç«¯
[ ] Nginx å·²é…ç½®
[ ] SSL è¯ä¹¦å·²ç”³è¯·
[ ] é˜²ç«å¢™ç«¯å£å·²å¼€æ”¾ (80, 443)
[ ] å¥åº·æ£€æŸ¥é€šè¿‡

===============================================================

ğŸ“š ç›¸å…³æ–‡æ¡£:

- å®Œæ•´éƒ¨ç½²æŒ‡å—: DEPLOY_TO_LINUX.md
- å¿«é€Ÿéƒ¨ç½²: QUICK_DEPLOY.txt
- éƒ¨ç½²æ€»ç»“: DEPLOYMENT_SUMMARY.txt
- ç«¯å£é…ç½®: PORT_CHANGES_SUMMARY.txt

===============================================================

âœ… è·¯å¾„é…ç½®å·²æ›´æ–°å®Œæˆ!

ç°åœ¨å¯ä»¥ä½¿ç”¨æ–°è·¯å¾„è¿›è¡Œéƒ¨ç½²:
  é¡¹ç›®ç›®å½•: /root/home/yuyuan/studyx_human

===============================================================
