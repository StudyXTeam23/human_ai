===============================================================
        🔧 API 配置快速参考卡
===============================================================

📍 核心配置文件:
-----------------------
web/frontend/lib/config.ts  # 所有 API 配置集中管理

===============================================================

🎯 如何修改 API 地址 (推荐方式):
-----------------------
# 1. 编辑环境变量
vim web/frontend/.env.production

# 2. 添加/修改这一行
NEXT_PUBLIC_API_URL=https://api.yourdomain.com

# 3. 重新构建
cd web/frontend && pnpm build

# 4. 重启
pm2 restart ai-humanizer-web

===============================================================

📋 常用配置:
-----------------------
# 本地开发
NEXT_PUBLIC_API_URL=http://localhost:18201

# 测试服务器
NEXT_PUBLIC_API_URL=http://192.168.1.100:18201

# 生产环境 (域名)
NEXT_PUBLIC_API_URL=https://api.yourdomain.com

# 生产环境 (IP)
NEXT_PUBLIC_API_URL=http://123.45.67.89:18201

===============================================================

🔍 查看当前配置:
-----------------------
# 浏览器控制台
console.log(process.env.NEXT_PUBLIC_API_URL)

# 或查看配置文件
cat web/frontend/.env.production

===============================================================

📂 配置文件优先级:
-----------------------
1. .env.production    (生产环境,优先级最高)
2. .env.local         (开发环境)
3. config.ts 默认值   (代码中的默认值)

===============================================================

�� 快速切换环境:
-----------------------
# 开发 → 测试
echo "NEXT_PUBLIC_API_URL=http://test-ip:18201" > .env.local
pnpm dev

# 测试 → 生产
echo "NEXT_PUBLIC_API_URL=https://api.yourdomain.com" > .env.production
pnpm build && pm2 restart ai-humanizer-web

===============================================================

✅ 代码使用方式:
-----------------------
# 方式 1: 导入 API_BASE_URL
import { API_BASE_URL } from '@/lib/config';
fetch(`${API_BASE_URL}/api/v1/humanize`, { ... });

# 方式 2: 使用辅助函数 (推荐)
import { getApiUrl } from '@/lib/config';
fetch(getApiUrl('HUMANIZE'), { ... });

===============================================================

📝 环境变量文件模板:
-----------------------
# .env.production
NEXT_PUBLIC_API_URL=https://api.yourdomain.com

# .env.local  
NEXT_PUBLIC_API_URL=http://localhost:18201

===============================================================

🐛 常见问题:
-----------------------
Q: 修改了但没生效?
A: 需要重新构建 (pnpm build)

Q: 如何临时切换 API?
A: 创建 .env.local 文件

Q: 开发环境用什么配置?
A: 默认 localhost:18201,不需要配置

===============================================================

⚡ 一键命令:
-----------------------
# 快速设置生产环境
cat > web/frontend/.env.production << 'ENV'
NEXT_PUBLIC_API_URL=https://api.yourdomain.com
ENV
cd web/frontend && pnpm build

# 快速设置测试环境
cat > web/frontend/.env.local << 'ENV'
NEXT_PUBLIC_API_URL=http://test-ip:18201
ENV

===============================================================

✅ 优势:
-----------------------
✓ 只需修改一个文件 (.env.production)
✓ 只需修改一行代码 (NEXT_PUBLIC_API_URL)
✓ 无需在项目中搜索替换
✓ 支持不同环境不同配置
✓ 易于维护和管理

===============================================================

📚 详细文档:
-----------------------
API_CONFIG_GUIDE.md          # 完整配置指南
SIMPLE_FRONTEND_DEPLOY.md   # 前端部署指南
PORT_UPDATE_SUMMARY.txt      # 端口配置说明

===============================================================
