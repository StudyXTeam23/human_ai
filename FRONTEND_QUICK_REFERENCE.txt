===============================================================
        🚀 前端部署快速参考卡
===============================================================

📦 一键部署 (推荐):
-----------------------
bash quick-start-frontend.sh

或使用完整部署脚本:
bash deploy-scripts/deploy-frontend.sh

===============================================================

⚡ 快速命令 (5 步):
-----------------------
cd /root/home/yuyuan/studyx_human/web/frontend
pnpm install
pnpm build
pm2 start npm --name "ai-humanizer-web" -- start
pm2 save

===============================================================

🎯 最简单命令 (3 步):
-----------------------
cd /root/home/yuyuan/studyx_human/web/frontend
pnpm install && pnpm build
nohup pnpm start > frontend.log 2>&1 &

===============================================================

🔧 管理命令:
-----------------------
# PM2 方式
pm2 status                     # 查看状态
pm2 restart ai-humanizer-web   # 重启
pm2 stop ai-humanizer-web      # 停止
pm2 logs ai-humanizer-web      # 查看日志
pm2 delete ai-humanizer-web    # 删除

# 后台运行方式
ps aux | grep "pnpm start"     # 查看进程
kill $(lsof -t -i:18200)       # 停止服务
tail -f frontend.log           # 查看日志

===============================================================

📋 检查服务:
-----------------------
# 查看进程
ps aux | grep node

# 查看端口
lsof -i :18200
netstat -tulpn | grep 18200

# 测试服务
curl http://localhost:18200

===============================================================

🔧 配置文件:
-----------------------
位置: /root/home/yuyuan/studyx_human/web/frontend/.env.production

内容:
NEXT_PUBLIC_API_URL=http://localhost:18201

(如果使用域名)
NEXT_PUBLIC_API_URL=https://api.yourdomain.com

===============================================================

🐛 故障排查:
-----------------------
# 1. 端口被占用
kill $(lsof -t -i:18200)

# 2. 查看日志
tail -f frontend.log
pm2 logs ai-humanizer-web --lines 100

# 3. 重新构建
pnpm build

# 4. 清理缓存
rm -rf .next node_modules
pnpm install
pnpm build

# 5. 防火墙
sudo firewall-cmd --add-port=18200/tcp --permanent
sudo firewall-cmd --reload

===============================================================

📦 依赖安装:
-----------------------
# 安装 Node.js (如果没有)
curl -fsSL https://rpm.nodesource.com/setup_18.x | sudo bash -
sudo yum install nodejs -y

# 安装 pnpm
npm install -g pnpm

# 安装 PM2 (推荐)
npm install -g pm2

===============================================================

🔄 更新部署:
-----------------------
cd /root/home/yuyuan/studyx_human/web/frontend
pm2 stop ai-humanizer-web
git pull  # 或重新上传文件
pnpm install
pnpm build
pm2 restart ai-humanizer-web

===============================================================

🌐 访问地址:
-----------------------
本地: http://localhost:18200
公网: http://服务器IP:18200
域名: https://yourdomain.com (需配置 Nginx)

===============================================================

📊 推荐配置:
-----------------------
✅ 使用 PM2 (自动重启、日志管理、开机自启)
✅ 配置 Nginx 反向代理 (80/443 端口)
✅ 申请 SSL 证书 (HTTPS)
✅ 配置防火墙规则

===============================================================

💡 常见问题:
-----------------------
Q: pnpm 命令不存在?
A: npm install -g pnpm

Q: 端口 18200 被占用?
A: kill $(lsof -t -i:18200)

Q: 无法访问?
A: 检查防火墙和端口是否开放

Q: 页面显示 API 错误?
A: 检查 .env.production 中的 API URL

Q: PM2 启动失败?
A: 先手动运行 pnpm start 检查错误

===============================================================

✅ 推荐部署流程:
-----------------------
1. 上传项目文件
2. 运行: bash quick-start-frontend.sh
3. 配置 Nginx (可选)
4. 申请 SSL 证书 (可选)

===============================================================

📚 相关文档:
-----------------------
- 详细部署: SIMPLE_FRONTEND_DEPLOY.md
- 完整指南: DEPLOY_TO_LINUX.md
- 快速部署: QUICK_DEPLOY.txt

===============================================================

