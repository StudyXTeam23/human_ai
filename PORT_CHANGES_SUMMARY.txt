===============================================================
        ğŸ”§ ç«¯å£é…ç½®å·²æ›´æ–°
===============================================================

âœ… å·²ä¿®æ”¹çš„ç«¯å£:

å‰ç«¯ç«¯å£: 3000 â†’ 18200
åç«¯ç«¯å£: 8000 â†’ 18201

===============================================================

ğŸ“ å·²æ›´æ–°çš„æ–‡ä»¶:

å‰ç«¯é…ç½®:
  âœ… web/frontend/package.json
     - "dev": "next dev -p 18200"
     - "start": "next start -p 18200"
  
  âœ… web/frontend/next.config.js
     - destination: 'http://localhost:18201/api/:path*'

åç«¯é…ç½®:
  âœ… web/backend/app/main.py
     - port=18201
     - print è®¿é—®åœ°å€: http://localhost:18201
  
  âœ… web/backend/app/config.py
     - cors_origins: ["http://localhost:18200"]
  
  âœ… web/backend/run_debug.py
     - port=18201
     - print è®¿é—®åœ°å€: http://localhost:18201

å¯åŠ¨è„šæœ¬:
  âœ… start-backend.sh
     - uvicorn ... --port 18201

éƒ¨ç½²è„šæœ¬:
  âœ… deploy-scripts/deploy-backend.sh
     - --bind 0.0.0.0:18201
  
  âœ… deploy-scripts/deploy-frontend.sh
     - pm2 start npm ... -- start -- -p 18200
  
  âœ… deploy-scripts/setup-nginx.sh
     - upstream backend_api { server 127.0.0.1:18201; }
     - upstream frontend_web { server 127.0.0.1:18200; }

===============================================================

ğŸš€ å¯åŠ¨æ–¹å¼:

å¼€å‘ç¯å¢ƒ (æœ¬åœ°):
-----------------------
# æ–¹å¼ 1: ä½¿ç”¨å¯åŠ¨è„šæœ¬
bash start-backend.sh
# å‰ç«¯åœ¨å¦ä¸€ä¸ªç»ˆç«¯
cd web/frontend && pnpm dev

# æ–¹å¼ 2: ç›´æ¥è¿è¡Œ
cd web/backend && python app/main.py
cd web/frontend && pnpm dev

# æ–¹å¼ 3: IDE è°ƒè¯•
python web/backend/run_debug.py

è®¿é—®åœ°å€:
  å‰ç«¯: http://localhost:18200
  åç«¯: http://localhost:18201
  APIæ–‡æ¡£: http://localhost:18201/docs

ç”Ÿäº§ç¯å¢ƒ (Linux æœåŠ¡å™¨):
-----------------------
# ä½¿ç”¨è‡ªåŠ¨éƒ¨ç½²è„šæœ¬
bash deploy-scripts/deploy-backend.sh
bash deploy-scripts/deploy-frontend.sh
bash deploy-scripts/setup-nginx.sh

æœåŠ¡ç®¡ç†:
  åç«¯: sudo systemctl start ai-humanizer-api
  å‰ç«¯: pm2 start ai-humanizer-web
  Nginx: sudo systemctl restart nginx

===============================================================

ğŸ” ç«¯å£æ£€æŸ¥:

æ£€æŸ¥ç«¯å£æ˜¯å¦è¢«å ç”¨:
  lsof -i :18200  # å‰ç«¯
  lsof -i :18201  # åç«¯

æ£€æŸ¥æœåŠ¡æ˜¯å¦è¿è¡Œ:
  # å‰ç«¯
  curl http://localhost:18200
  
  # åç«¯
  curl http://localhost:18201/health
  # åº”è¯¥è¿”å›: {"status":"healthy","version":"1.0.0"}

æ£€æŸ¥ Nginx ä»£ç† (ç”Ÿäº§ç¯å¢ƒ):
  # æŸ¥çœ‹ Nginx é…ç½®
  sudo nginx -t
  
  # æŸ¥çœ‹ç«¯å£ç›‘å¬
  sudo netstat -tulpn | grep -E '18200|18201'

===============================================================

âš ï¸  é‡è¦æé†’:

1. å¼€å‘ç¯å¢ƒ:
   - å‰ç«¯å’Œåç«¯éƒ½ä½¿ç”¨æ–°ç«¯å£ (18200/18201)
   - ç¡®ä¿æ²¡æœ‰å…¶ä»–æœåŠ¡å ç”¨è¿™äº›ç«¯å£

2. ç”Ÿäº§ç¯å¢ƒ:
   - Nginx ç›‘å¬ 80/443 ç«¯å£ (å¯¹å¤–)
   - åç«¯å†…éƒ¨ç›‘å¬ 18201
   - å‰ç«¯å†…éƒ¨ç›‘å¬ 18200
   - Nginx åå‘ä»£ç†åˆ°å†…éƒ¨ç«¯å£

3. CORS é…ç½®:
   - åç«¯å·²æ›´æ–° CORS å…è®¸ http://localhost:18200
   - ç”Ÿäº§ç¯å¢ƒéœ€è¦åœ¨ .env ä¸­é…ç½®å®é™…åŸŸå

4. å‰ç«¯ API è°ƒç”¨:
   - å¼€å‘ç¯å¢ƒ: next.config.js ä»£ç†åˆ° 18201
   - ç”Ÿäº§ç¯å¢ƒ: ä½¿ç”¨ NEXT_PUBLIC_API_URL ç¯å¢ƒå˜é‡

===============================================================

ğŸ§ª æµ‹è¯•æ­¥éª¤:

1. å¯åŠ¨åç«¯
   cd web/backend
   source venv/bin/activate
   python app/main.py
   # åº”è¯¥çœ‹åˆ°: ğŸ”— è®¿é—®: http://localhost:18201

2. æµ‹è¯•åç«¯ API
   curl http://localhost:18201/health
   # é¢„æœŸè¾“å‡º: {"status":"healthy","version":"1.0.0"}

3. å¯åŠ¨å‰ç«¯
   cd web/frontend
   pnpm dev
   # åº”è¯¥çœ‹åˆ°: â–² Next.js 14.x.x
   #           - Local:        http://localhost:18200

4. æµ‹è¯•å‰ç«¯é¡µé¢
   æ‰“å¼€æµè§ˆå™¨è®¿é—®: http://localhost:18200
   # åº”è¯¥èƒ½çœ‹åˆ°ä¸»é¡µ

5. æµ‹è¯• API ä»£ç†
   åœ¨æµè§ˆå™¨æ§åˆ¶å°æ£€æŸ¥ç½‘ç»œè¯·æ±‚
   # API è¯·æ±‚åº”è¯¥æ˜¯ /api/v1/xxx (è¢«ä»£ç†åˆ° 18201)

===============================================================

ğŸ“š ç›¸å…³æ–‡æ¡£:

- å®Œæ•´éƒ¨ç½²æŒ‡å—: DEPLOY_TO_LINUX.md
- å¿«é€Ÿéƒ¨ç½²: QUICK_DEPLOY.txt
- éƒ¨ç½²æ€»ç»“: DEPLOYMENT_SUMMARY.txt

===============================================================

âœ… é…ç½®æ›´æ–°å®Œæˆ!

ç°åœ¨å¯ä»¥ä½¿ç”¨æ–°ç«¯å£å¯åŠ¨æœåŠ¡:
  å‰ç«¯: http://localhost:18200
  åç«¯: http://localhost:18201

===============================================================
